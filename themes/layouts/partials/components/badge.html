{{ define "eco-badge" }}
{{$currentPage:=.Page.RelPermalink}}

{{ with .Site.GetPage "/responsible-digital" }}
<div id="score">
  <svg id="score-arrow" version="1.0" xmlns="http://www.w3.org/2000/svg" width="20px" height="20px"
    viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet">

    <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)">
      <path d="M355 4034 c-43 -22 -313 -292 -336 -336 -21 -42 -24 -83 -9 -125 12
-32 2440 -2466 2482 -2489 35 -18 101 -18 136 0 42 23 2470 2457 2482 2489 15
42 12 83 -9 125 -25 47 -307 327 -344 341 -36 14 -88 14 -124 1 -16 -6 -472
-455 -1050 -1033 l-1023 -1022 -1022 1022 c-579 578 -1035 1027 -1051 1033
-40 15 -97 12 -132 -6z" />
    </g>
  </svg>
  <svg id="score-cross" class="hidden" version="1.0" xmlns="http://www.w3.org/2000/svg" width="20px" height="20px"
    viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet">

    <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)">
      <path d="M112 5113 c-36 -7 -100 -77 -108 -117 -17 -93 -93 -11 1169 -1273
l1162 -1163 -1162 -1162 c-1264 -1265 -1186 -1180 -1168 -1275 9 -49 69 -109
118 -118 95 -18 10 -96 1275 1168 l1162 1162 1163 -1162 c1264 -1264 1179
-1186 1274 -1168 49 9 109 69 118 118 18 95 96 10 -1168 1274 l-1162 1163
1162 1163 c1035 1036 1162 1166 1168 1200 22 119 -78 216 -197 192 -27 -6
-253 -227 -1196 -1168 l-1162 -1162 -1158 1157 c-656 656 -1169 1162 -1185
1168 -28 10 -62 11 -105 3z" />
    </g>
  </svg>
  {{i18n "badge_emit"}}<br>
  {{$pageEcoStats:=index .Site.Data.ecoStats $currentPage }}
  <b>{{$pageEcoStats.ges | truncate 4 ""}} gCO2e</b>
  <dialog id="score-dialog" class="details">
    <p>{{i18n "badge_more_details"}}</p><a href={{.Permalink }} title={{i18n "badge_more_details_button_label" }}>{{i18n
      "badge_more_details_button"}}
    </a>
  </dialog>
</div>{{ end }}
{{ end }}